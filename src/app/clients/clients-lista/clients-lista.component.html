<h1 class="mt-4">Clientes</h1>
<ol class="breadcrumb mb-4">
	<li class="breadcrumb-item active">Listagem</li>
</ol>
<div class="container">

	<div class="row">
		<div class="col-md-12">
			<div class="alert alert-success" role="alert" *ngIf="mensagemSucesso">
				<span>{{ mensagemSucesso }}</span>
			</div>
			<div class="alert alert-danger" role="alert" *ngIf="mensagemErro">
				<span>{{ mensagemErro }}</span>
			</div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-12">
			<button class="btn btn-outline-primary" (click)="newClient()">
				<i class="fa fa-user-plus"></i>
				Novo Cadastro
			</button>
		</div>
	</div>

	<br />

	<div class="row">
		<div class="col-md-12 table-responsive">
			<table class="table table-sm table-hover">
				<thead class="thead-light">
					<tr>
						<th scope="col">#</th>
						<th scope="col">Nome</th>
						<th scope="col">CPF</th>
						<th scope="col">Data de Cadastro</th>
						<th scope="col"></th>
					</tr>
				</thead>
				<tbody *ngFor="let client of clients">
					<tr>
						<th scope="row">{{client.id}}</th>
						<td>{{client.name}}</td>
						<td>{{client.cpf}}</td>
						<td>{{client.createdDate}}</td>
						<td>
							<div class="dropdown">
								<button class="btn btn-link-secondary dropdown-toggle btn-sm" type="button"
									id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
									aria-expanded="false">
									Ações
								</button>
								<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
									<button type="button" class="dropdown-item btn-sm" (click)="edit(client.id)">
										<i class="fa fa-user-edit"></i>
										Editar
									</button>
									<button type="button" class="dropdown-item btn-sm" data-toggle="modal"
										data-target="#confirmDeleteModal" (click)="prepareConfirmDeleteModal(client)">
										<i class="fa fa-user-minus"></i>
										Deletar
									</button>
								</div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<div id="confirmDeleteModal" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4>Confirmação</h4>
				</div>
				<div class="modal-body" *ngIf="clientToDelete">
					Confirma a deleção do cliente <b>{{ clientToDelete.name }}</b>?
				</div>
				<div class="modal-footer">
					<button class="btn btn-sm btn-primary mr-1" data-dismiss="modal">
						<i class="fa fa-arrow-left"></i> Voltar
					</button>
					<button class="btn btn-sm btn-danger mr-1" data-dismiss="modal" (click)="delete(clientToDelete)">
						<i class="fa fa-trash"></i> Deletar
					</button>
				</div>
			</div>
		</div>
	</div>

</div>