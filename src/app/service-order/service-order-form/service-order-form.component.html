<h1 class="mt-4">Ordem de Serviço</h1>
<ol class="breadcrumb mb-4">
	<li class="breadcrumb-item active">{{serviceOrder.id ? 'Editar' : 'Cadastro'}}</li>
</ol>
<div class="container">
	<form #serviceOrderForm="ngForm" (ngSubmit)="onSubmit()" class="formcol-md-12">
		
		<div class="row">
            <div class="col-md-12">
                <div class="alert alert-success" role="alert" *ngIf="success == true">
                    Ordem de Serviço salva/atualizada com sucesso.
                </div>
                <div class="alert alert-danger" role="alert" *ngFor="let erro of errors">
                    <span>{{ erro }}</span>
                </div>
            </div>
		</div>
		
		<div class="row">
			<div class="col-md-12">
				<div class="form-grup">
					<div class="input-group">
						<div class="input-group-prepend">
							<label class="input-group-text" for="client">
								<div class="mr-2">
									<i class="fas fa-user"></i>
								</div>
								Cliente
							</label>
						</div>
						<select class="form-control custom-select" id="client" [ngModelOptions]="{standalone: true}"
							[(ngModel)]="serviceOrder.clientId" required>
							<option selected disabled="disabled">Selecione o Cliente</option>
							<option *ngFor="let client of clients" [ngValue]="client.id">
								{{ client.name }}
							</option>
						</select>
					</div>
				</div>
			</div>
		</div>
		<br />
		<div class="row">
			<div class="col-md-12">
				<div class="form-group">
					<label for="serviceOrderDescription">Descrição: </label>
					<input type="text" name="serviceOrderDescription" class="form-control"
						[(ngModel)]="serviceOrder.description" />
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-md-6">
				<div class="form-group">
					<label for="serviceOrderPrice">Preço: </label>
					<input type="number" name="serviceOrderPrice" class="form-control" [(ngModel)]="serviceOrder.price" />
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group">
					<label for="serviceOrderProvidedAt">Data do Serviço: </label>
					<input type="date" name="serviceOrderProvidedAt" class="form-control"
						[(ngModel)]="serviceOrder.providedAt" />
				</div>
			</div>
		</div>

		<div class="row mt-4 float-right">
			<div class="col-md-12">
				<button type="button" class="btn btn-outline-primary mr-1" (click)="returnToList()">
					<i class="fa fa-arrow-left"></i> Voltar
				</button>
				<button type="submit" class="btn btn-success ml-1" *ngIf="serviceOrder.id == null">
					<i class="fa fa-save"></i> Salvar
				</button>
				<button type="submit" class="btn btn-primary ml-1" *ngIf="serviceOrder.id != null">
					<i class="fa fa-edit"></i> Atualizar
				</button>
			</div>
		</div>

	</form>
</div>